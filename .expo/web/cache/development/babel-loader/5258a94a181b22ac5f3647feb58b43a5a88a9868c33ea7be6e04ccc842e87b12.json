{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/project/src/components/apps/ChattyAI/ChatInterface.tsx\";\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { Send, Loader2, Bot, User, Settings as SettingsIcon, MessageSquare, PlusCircle } from 'lucide-react';\nimport { useChatStore } from '../../../store/useChatStore';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function ChatInterface(_ref) {\n  var _this = this;\n  var onOpenSettings = _ref.onOpenSettings;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    input = _useState2[0],\n    setInput = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    autoScroll = _useState4[0],\n    setAutoScroll = _useState4[1];\n  var messagesEndRef = useRef(null);\n  var scrollContainerRef = useRef(null);\n  var lastMessageRef = useRef(null);\n  var scrollTimeoutRef = useRef(null);\n  var _useChatStore = useChatStore(),\n    _useChatStore$message = _useChatStore.messages,\n    messages = _useChatStore$message === void 0 ? [] : _useChatStore$message,\n    isGenerating = _useChatStore.isGenerating,\n    chat = _useChatStore.chat,\n    activeModelId = _useChatStore.activeModelId,\n    apiKey = _useChatStore.apiKey,\n    currentChatId = _useChatStore.currentChatId,\n    createNewChat = _useChatStore.createNewChat,\n    apiProvider = _useChatStore.apiProvider;\n  var scrollToBottom = useCallback(function () {\n    var behavior = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'smooth';\n    if (!autoScroll || !messagesEndRef.current) return;\n    if (scrollTimeoutRef.current) {\n      clearTimeout(scrollTimeoutRef.current);\n    }\n    scrollTimeoutRef.current = setTimeout(function () {\n      var _messagesEndRef$curre;\n      (_messagesEndRef$curre = messagesEndRef.current) == null ? void 0 : _messagesEndRef$curre.scrollIntoView({\n        behavior: behavior,\n        block: 'end'\n      });\n    }, 50);\n  }, [autoScroll]);\n  var handleScroll = useCallback(function () {\n    if (!scrollContainerRef.current) return;\n    var _scrollContainerRef$c = scrollContainerRef.current,\n      scrollTop = _scrollContainerRef$c.scrollTop,\n      scrollHeight = _scrollContainerRef$c.scrollHeight,\n      clientHeight = _scrollContainerRef$c.clientHeight;\n    var isAtBottom = Math.abs(scrollHeight - clientHeight - scrollTop) < 50;\n    if (isAtBottom !== autoScroll) {\n      setAutoScroll(isAtBottom);\n    }\n  }, [autoScroll]);\n  var throttledScrollHandler = useCallback(function () {\n    if (scrollTimeoutRef.current) {\n      clearTimeout(scrollTimeoutRef.current);\n    }\n    scrollTimeoutRef.current = setTimeout(handleScroll, 100);\n  }, [handleScroll]);\n  useEffect(function () {\n    if (messages && messages.length > 0) {\n      scrollToBottom();\n    }\n    return function () {\n      if (scrollTimeoutRef.current) {\n        clearTimeout(scrollTimeoutRef.current);\n      }\n    };\n  }, [messages, scrollToBottom]);\n  useEffect(function () {\n    if (isGenerating) {\n      scrollToBottom('smooth');\n    }\n  }, [isGenerating, scrollToBottom]);\n  var handleSubmit = function () {\n    var _ref2 = _asyncToGenerator(function* (e) {\n      e.preventDefault();\n      if (!input.trim() || isGenerating) return;\n      if (!activeModelId) {\n        alert('Please select a model first');\n        return;\n      }\n      if (!currentChatId) {\n        alert('Please create a new chat first');\n        return;\n      }\n      setAutoScroll(true);\n      scrollToBottom('instant');\n      yield chat(input);\n      setInput('');\n    });\n    return function handleSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var formatTimestamp = function formatTimestamp(timestamp) {\n    if (!timestamp) return '';\n    return new Date(timestamp).toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  if (!apiKey && !apiProvider) {\n    return _jsxDEV(\"div\", {\n      className: \"flex flex-col items-center justify-center h-full text-center p-4\",\n      children: [_jsxDEV(SettingsIcon, {\n        className: \"w-12 h-12 text-gray-400 mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), _jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-white mb-2\",\n        children: \"AI Service Not Configured\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), _jsxDEV(\"p\", {\n        className: \"text-gray-400 mb-4\",\n        children: \"Please configure your AI service settings to start chatting\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), _jsxDEV(\"button\", {\n        onClick: onOpenSettings,\n        className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",\n        children: \"Configure AI Service\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this);\n  }\n  if (!currentChatId) {\n    return _jsxDEV(\"div\", {\n      className: \"flex flex-col items-center justify-center h-full text-center p-4\",\n      children: [_jsxDEV(MessageSquare, {\n        className: \"w-12 h-12 text-gray-400 mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), _jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-white mb-2\",\n        children: \"Welcome to Chatty AI\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), _jsxDEV(\"p\", {\n        className: \"text-gray-400 mb-6\",\n        children: \"Start a new conversation to begin chatting\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), _jsxDEV(\"button\", {\n        onClick: createNewChat,\n        className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\",\n        children: [_jsxDEV(PlusCircle, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), \"New Chat\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this);\n  }\n  return _jsxDEV(\"div\", {\n    className: \"flex flex-col h-full overflow-hidden\",\n    children: [_jsxDEV(\"div\", {\n      className: \"flex-none flex items-center justify-between p-2 border-b border-gray-800\",\n      children: [_jsxDEV(\"h2\", {\n        className: \"text-sm font-medium text-gray-400\",\n        children: \"Chat Session\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), _jsxDEV(\"button\", {\n        onClick: onOpenSettings,\n        className: \"p-2 hover:bg-gray-800 rounded-lg text-gray-400\",\n        title: \"Settings\",\n        children: _jsxDEV(SettingsIcon, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), _jsxDEV(\"div\", {\n      ref: scrollContainerRef,\n      onScroll: throttledScrollHandler,\n      className: \"flex-1 overflow-y-auto p-4 space-y-4 scroll-smooth\",\n      children: [_jsxDEV(AnimatePresence, {\n        initial: false,\n        children: messages == null ? void 0 : messages.map(function (message, index) {\n          return _jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              y: 20\n            },\n            animate: {\n              opacity: 1,\n              y: 0\n            },\n            exit: {\n              opacity: 0,\n              y: -20\n            },\n            transition: {\n              duration: 0.2\n            },\n            ref: index === messages.length - 1 ? lastMessageRef : null,\n            className: `\n                flex gap-3 ${message.role === 'user' ? 'justify-end' : ''}\n              `,\n            children: [message.role !== 'user' && _jsxDEV(\"div\", {\n              className: \"w-8 h-8 rounded-lg bg-blue-500/10 flex items-center justify-center\",\n              children: _jsxDEV(Bot, {\n                className: \"w-5 h-5 text-blue-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, _this), _jsxDEV(\"div\", {\n              className: \"flex flex-col gap-1 max-w-[80%]\",\n              children: [_jsxDEV(\"div\", {\n                className: `\n                    rounded-lg p-3\n                    ${message.role === 'user' ? 'bg-blue-500/10 text-blue-100' : message.role === 'error' ? 'bg-red-500/10 text-red-200' : 'bg-gray-800 text-gray-100'}\n                  `,\n                children: message.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, _this), message.timestamp && _jsxDEV(\"div\", {\n                className: \"text-xs text-gray-500 px-1\",\n                children: formatTimestamp(message.timestamp)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, _this), message.role === 'user' && _jsxDEV(\"div\", {\n              className: \"w-8 h-8 rounded-lg bg-blue-500/10 flex items-center justify-center\",\n              children: _jsxDEV(User, {\n                className: \"w-5 h-5 text-blue-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, _this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), _jsxDEV(\"div\", {\n        ref: messagesEndRef,\n        className: \"h-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), _jsxDEV(AnimatePresence, {\n      children: !autoScroll && (messages == null ? void 0 : messages.length) > 0 && _jsxDEV(motion.button, {\n        initial: {\n          opacity: 0,\n          y: 10\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        exit: {\n          opacity: 0,\n          y: 10\n        },\n        onClick: function onClick() {\n          setAutoScroll(true);\n          scrollToBottom();\n        },\n        className: \"absolute bottom-20 right-4 px-4 py-2 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-colors\",\n        children: \"Scroll to Bottom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), _jsxDEV(\"div\", {\n      className: \"flex-none p-4 border-t border-gray-800\",\n      children: _jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"flex gap-2\",\n        children: [_jsxDEV(\"input\", {\n          type: \"text\",\n          value: input,\n          onChange: function onChange(e) {\n            return setInput(e.target.value);\n          },\n          placeholder: \"Type your message...\",\n          className: \"flex-1 bg-gray-800 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          disabled: isGenerating\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), _jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: !input.trim() || isGenerating,\n          className: \"px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700\",\n          children: isGenerating ? _jsxDEV(Loader2, {\n            className: \"w-5 h-5 animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this) : _jsxDEV(Send, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"names":["React","useEffect","useRef","useState","useCallback","Send","Loader2","Bot","User","Settings","SettingsIcon","MessageSquare","PlusCircle","useChatStore","motion","AnimatePresence","jsxDEV","_jsxDEV","ChatInterface","_ref","_this","onOpenSettings","_useState","_useState2","_slicedToArray","input","setInput","_useState3","_useState4","autoScroll","setAutoScroll","messagesEndRef","scrollContainerRef","lastMessageRef","scrollTimeoutRef","_useChatStore","_useChatStore$message","messages","isGenerating","chat","activeModelId","apiKey","currentChatId","createNewChat","apiProvider","scrollToBottom","behavior","arguments","length","undefined","current","clearTimeout","setTimeout","_messagesEndRef$curre","scrollIntoView","block","handleScroll","_scrollContainerRef$c","scrollTop","scrollHeight","clientHeight","isAtBottom","Math","abs","throttledScrollHandler","handleSubmit","_ref2","_asyncToGenerator","e","preventDefault","trim","alert","_x","apply","formatTimestamp","timestamp","Date","toLocaleTimeString","hour","minute","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","ref","onScroll","initial","map","message","index","div","opacity","y","animate","exit","transition","duration","role","content","button","onSubmit","type","value","onChange","target","placeholder","disabled"],"sources":["/home/project/src/components/apps/ChattyAI/ChatInterface.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { Send, Loader2, Bot, User, Settings as SettingsIcon, MessageSquare, PlusCircle } from 'lucide-react';\nimport { useChatStore } from '../../../store/useChatStore';\nimport { motion, AnimatePresence } from 'framer-motion';\n\ninterface ChatInterfaceProps {\n  onOpenSettings: () => void;\n}\n\nexport function ChatInterface({ onOpenSettings }: ChatInterfaceProps) {\n  const [input, setInput] = useState('');\n  const [autoScroll, setAutoScroll] = useState(true);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const scrollContainerRef = useRef<HTMLDivElement>(null);\n  const lastMessageRef = useRef<HTMLDivElement>(null);\n  const scrollTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  \n  const { \n    messages = [], // Provide default empty array\n    isGenerating, \n    chat, \n    activeModelId,\n    apiKey,\n    currentChatId,\n    createNewChat,\n    apiProvider\n  } = useChatStore();\n\n  const scrollToBottom = useCallback((behavior: ScrollBehavior = 'smooth') => {\n    if (!autoScroll || !messagesEndRef.current) return;\n\n    if (scrollTimeoutRef.current) {\n      clearTimeout(scrollTimeoutRef.current);\n    }\n\n    scrollTimeoutRef.current = setTimeout(() => {\n      messagesEndRef.current?.scrollIntoView({ \n        behavior,\n        block: 'end'\n      });\n    }, 50);\n  }, [autoScroll]);\n\n  const handleScroll = useCallback(() => {\n    if (!scrollContainerRef.current) return;\n    \n    const { scrollTop, scrollHeight, clientHeight } = scrollContainerRef.current;\n    const isAtBottom = Math.abs(scrollHeight - clientHeight - scrollTop) < 50;\n    \n    if (isAtBottom !== autoScroll) {\n      setAutoScroll(isAtBottom);\n    }\n  }, [autoScroll]);\n\n  const throttledScrollHandler = useCallback(() => {\n    if (scrollTimeoutRef.current) {\n      clearTimeout(scrollTimeoutRef.current);\n    }\n    scrollTimeoutRef.current = setTimeout(handleScroll, 100);\n  }, [handleScroll]);\n\n  useEffect(() => {\n    // Only scroll if we have messages\n    if (messages && messages.length > 0) {\n      scrollToBottom();\n    }\n    \n    return () => {\n      if (scrollTimeoutRef.current) {\n        clearTimeout(scrollTimeoutRef.current);\n      }\n    };\n  }, [messages, scrollToBottom]);\n\n  useEffect(() => {\n    if (isGenerating) {\n      scrollToBottom('smooth');\n    }\n  }, [isGenerating, scrollToBottom]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!input.trim() || isGenerating) return;\n\n    if (!activeModelId) {\n      alert('Please select a model first');\n      return;\n    }\n\n    if (!currentChatId) {\n      alert('Please create a new chat first');\n      return;\n    }\n\n    setAutoScroll(true);\n    scrollToBottom('instant');\n    await chat(input);\n    setInput('');\n  };\n\n  const formatTimestamp = (timestamp?: number) => {\n    if (!timestamp) return '';\n    return new Date(timestamp).toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  // Show configuration message if no API is configured\n  if (!apiKey && !apiProvider) {\n    return (\n      <div className=\"flex flex-col items-center justify-center h-full text-center p-4\">\n        <SettingsIcon className=\"w-12 h-12 text-gray-400 mb-4\" />\n        <h3 className=\"text-lg font-medium text-white mb-2\">AI Service Not Configured</h3>\n        <p className=\"text-gray-400 mb-4\">Please configure your AI service settings to start chatting</p>\n        <button\n          onClick={onOpenSettings}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n        >\n          Configure AI Service\n        </button>\n      </div>\n    );\n  }\n\n  // Show welcome message if no chat is selected\n  if (!currentChatId) {\n    return (\n      <div className=\"flex flex-col items-center justify-center h-full text-center p-4\">\n        <MessageSquare className=\"w-12 h-12 text-gray-400 mb-4\" />\n        <h3 className=\"text-lg font-medium text-white mb-2\">Welcome to Chatty AI</h3>\n        <p className=\"text-gray-400 mb-6\">Start a new conversation to begin chatting</p>\n        <button\n          onClick={createNewChat}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\n        >\n          <PlusCircle className=\"w-5 h-5\" />\n          New Chat\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col h-full overflow-hidden\">\n      <div className=\"flex-none flex items-center justify-between p-2 border-b border-gray-800\">\n        <h2 className=\"text-sm font-medium text-gray-400\">Chat Session</h2>\n        <button\n          onClick={onOpenSettings}\n          className=\"p-2 hover:bg-gray-800 rounded-lg text-gray-400\"\n          title=\"Settings\"\n        >\n          <SettingsIcon className=\"w-4 h-4\" />\n        </button>\n      </div>\n\n      <div \n        ref={scrollContainerRef}\n        onScroll={throttledScrollHandler}\n        className=\"flex-1 overflow-y-auto p-4 space-y-4 scroll-smooth\"\n      >\n        <AnimatePresence initial={false}>\n          {messages?.map((message, index) => (\n            <motion.div\n              key={index}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n              transition={{ duration: 0.2 }}\n              ref={index === messages.length - 1 ? lastMessageRef : null}\n              className={`\n                flex gap-3 ${message.role === 'user' ? 'justify-end' : ''}\n              `}\n            >\n              {message.role !== 'user' && (\n                <div className=\"w-8 h-8 rounded-lg bg-blue-500/10 flex items-center justify-center\">\n                  <Bot className=\"w-5 h-5 text-blue-400\" />\n                </div>\n              )}\n              <div className=\"flex flex-col gap-1 max-w-[80%]\">\n                <div\n                  className={`\n                    rounded-lg p-3\n                    ${message.role === 'user'\n                      ? 'bg-blue-500/10 text-blue-100'\n                      : message.role === 'error'\n                      ? 'bg-red-500/10 text-red-200'\n                      : 'bg-gray-800 text-gray-100'}\n                  `}\n                >\n                  {message.content}\n                </div>\n                {message.timestamp && (\n                  <div className=\"text-xs text-gray-500 px-1\">\n                    {formatTimestamp(message.timestamp)}\n                  </div>\n                )}\n              </div>\n              {message.role === 'user' && (\n                <div className=\"w-8 h-8 rounded-lg bg-blue-500/10 flex items-center justify-center\">\n                  <User className=\"w-5 h-5 text-blue-400\" />\n                </div>\n              )}\n            </motion.div>\n          ))}\n        </AnimatePresence>\n        <div ref={messagesEndRef} className=\"h-1\" />\n      </div>\n\n      <AnimatePresence>\n        {!autoScroll && messages?.length > 0 && (\n          <motion.button\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: 10 }}\n            onClick={() => {\n              setAutoScroll(true);\n              scrollToBottom();\n            }}\n            className=\"absolute bottom-20 right-4 px-4 py-2 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-colors\"\n          >\n            Scroll to Bottom\n          </motion.button>\n        )}\n      </AnimatePresence>\n\n      <div className=\"flex-none p-4 border-t border-gray-800\">\n        <form onSubmit={handleSubmit} className=\"flex gap-2\">\n          <input\n            type=\"text\"\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            placeholder=\"Type your message...\"\n            className=\"flex-1 bg-gray-800 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            disabled={isGenerating}\n          />\n          <button\n            type=\"submit\"\n            disabled={!input.trim() || isGenerating}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700\"\n          >\n            {isGenerating ? (\n              <Loader2 className=\"w-5 h-5 animate-spin\" />\n            ) : (\n              <Send className=\"w-5 h-5\" />\n            )}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}